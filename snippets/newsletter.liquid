<div class="footer-newsletter">
  {% form 'customer', class: 'newsletter-form' %}
    <input type="hidden" name="contact[tags]" value="newsletter">

    {%- if form.posted_successfully? -%}
      <h3
        class="newsletter-form__message newsletter-form__message--success form__message"
        id="Newsletter-success--{{ section.id }}"
        tabindex="-1"
        autofocus
      >
        <span class="svg-wrapper">
          {{- 'icon-success.svg' | inline_asset_content -}}
        </span>
        {{- 'newsletter.success' | t }}
      </h3>
    {%- else -%}
      <p class="newsletter-form__heading type-h6">Join our newsletter</p>
      <div class="newsletter-form__fields">
        <div class="field">
          <input
            id="NewsletterForm--{{ section.id }}"
            class="field__input"
            type="email"
            name="contact[email]"
            value="{{ form.email }}"
            aria-required="true"
            autocorrect="off"
            autocapitalize="off"
            autocomplete="email"
            {% if form.errors %}
              autofocus
              aria-invalid="true"
              aria-describedby="Newsletter-error--{{ section.id }}"
            {% endif %}
            placeholder="{{ 'newsletter.label' | t }}"
            required
          >
          <button
            type="submit"
            class="newsletter-form__button field__button type-p-small uppercase"
            name="commit"
            id="Subscribe"
            aria-label="{{ 'newsletter.button_label' | t }}"
          >
            <span class="svg-wrapper"> Submit </span>
          </button>
        </div>
        {%- if form.errors -%}
          <small class="newsletter-form__message form__message" id="Newsletter-error--{{ section.id }}">
            <span class="svg-wrapper">
              {{- 'icon-error.svg' | inline_asset_content -}}
            </span>
            {{- form.errors.translated_fields.email | capitalize }}
            {{ form.errors.messages.email -}}
          </small>
        {%- endif -%}
      </div>
    {%- endif -%}
  {% endform %}
</div>
