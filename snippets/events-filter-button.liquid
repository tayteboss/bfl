{% comment %}
  Render unique tags from products in the 'events' collection as filter buttons.
  When a tag is clicked, only products with that tag are shown.
{% endcomment %}

{% assign tag_list = collection.all_tags %}

<div class="collection-filters" id="event-tags-filter">
  <div data-hover-shake>
    {% if current_tags and current_tags.size > 0 %}
      <a class="filter-button type-p event-tag-filter" href="{{ collection.url }}" aria-pressed="false">All</a>
    {% else %}
      <span class="filter-button type-p event-tag-filter" aria-pressed="true">All</span>
    {% endif %}
  </div>
  {% for tag in tag_list %}
    <div data-hover-shake>
      {% if current_tags and current_tags contains tag %}
        {{
          tag
          | link_to_remove_tag: tag
          | replace: '<a', '<a class="filter-button type-p event-tag-filter" aria-pressed="true"'
        }}
      {% else %}
        {{
          tag
          | link_to_tag: tag
          | replace: '<a', '<a class="filter-button type-p event-tag-filter" aria-pressed="false"'
        }}
      {% endif %}
    </div>
  {% endfor %}
</div>
