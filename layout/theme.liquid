<!doctype html>
<html class="js" lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="">
    <link rel="canonical" href="{{ canonical_url }}">
    <meta
      property="og:image"
      content="{{ page_image | default: settings.share_image | default: shop.brand.logo | image_url }}"
    >

    {%- if settings.favicon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {%- endif -%}

    {%- unless settings.type_header_font.system? and settings.type_body_font.system? -%}
      <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
    {%- endunless -%}

    <title>
      {{ page_title }}
      {%- if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
      {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
      {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
    </title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}

    {% render 'meta-tags' %}

    <script src="https://cdn.jsdelivr.net/npm/motion@12.23.20/dist/motion.js" defer="defer"></script>

    <script>
      (function () {
        function setLogoHeightVar() {
          var vw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
          var logoHeight = vw * 0.138 * 0.9; // matches .header__logo font-size (13.8vw) * line-height (0.9)
          document.documentElement.style.setProperty('--logo-height', logoHeight + 'px');
        }
        setLogoHeightVar();
        window.addEventListener('resize', setLogoHeightVar);
      })();
    </script>

    <script src="{{ 'constants.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'pubsub.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'global.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'in-view-observer.js' | asset_url }}" defer="defer"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash.throttle@4.1.1/index.js" defer="defer"></script>
    <script src="{{ 'scroll-utils.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'parallax.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'cursor-utils.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'details-disclosure.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'details-modal.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'search-form.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'animations.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'services-tables.js' | asset_url }}" defer="defer"></script>

    {{ content_for_header }}

    {{ 'fonts.css' | asset_url | stylesheet_tag }}
    {{ 'global.css' | asset_url | stylesheet_tag }}
    {{ 'swiper-bundle.min.css' | asset_url | stylesheet_tag }}

    {%- unless settings.type_body_font.system? -%}
      {% comment %}theme-check-disable AssetPreload{% endcomment %}
      <link rel="preload" as="font" href="{{ settings.type_body_font | font_url }}" type="font/woff2" crossorigin>
      {% comment %}theme-check-enable AssetPreload{% endcomment %}
    {%- endunless -%}
    {%- unless settings.type_header_font.system? -%}
      {% comment %}theme-check-disable AssetPreload{% endcomment %}
      <link rel="preload" as="font" href="{{ settings.type_header_font | font_url }}" type="font/woff2" crossorigin>
      {% comment %}theme-check-enable AssetPreload{% endcomment %}
    {%- endunless -%}

    {%- if localization.available_countries.size > 1 or localization.available_languages.size > 1 -%}
      <script src="{{ 'localization-form.js' | asset_url }}" defer="defer"></script>
    {%- endif -%}

    <script>
      if (Shopify.designMode) {
        document.documentElement.classList.add('shopify-design-mode');
      }
    </script>
  </head>

  <body>
    <a class="header__logo hide-on-mobile" href="{{ routes.root_url }}">Bellows Film Lab</a>

    <div class="header-logo-marquee hide-on-desktop" data-header-marquee="mobile-only">
      <div class="header-logo-marquee__track">
        <a class="header__logo header__logo--mobile" href="{{ routes.root_url }}"
          >Bellows Film Lab Bellows Film Lab Bellows Film Lab Bellows Film Lab Bellows Film Lab Bellows Film Lab Bellows
          Film Lab Bellows Film Lab Bellows Film Lab Bellows Film Lab Bellows Film Lab Bellows Film Lab Bellows Film Lab
          Bellows Film Lab Bellows Film Lab</a
        >
      </div>
    </div>
    {% sections 'header-group' %}

    <main
      id="main-content"
      role="main"
      tabindex="-1"
      class="page-{{ request.page_type | handle }} template-{{ template.name | handle }}{% if template.name == 'index' %} home{% endif %}{% if template.suffix != blank %} template-{{ template.name | handle }}-{{ template.suffix | handle }}{% endif %}{% if page %} page-{{ page.handle }}{% endif %}{% if product %} product-{{ product.handle }}{% endif %}{% if collection %} collection-{{ collection.handle }}{% endif %}{% if blog %} blog-{{ blog.handle }}{% endif %}{% if article %} article-{{ article.handle }}{% endif %}"
    >
      {{ content_for_layout }}
    </main>

    {% sections 'footer-group' %}

    {% comment %} {%- render 'store-selector-modal' -%} {% endcomment %}
    {%- render 'store-search-modal', class: 'store-search-floating--desktop' -%}
    {%- render 'cart-drawer' -%}

    <ul hidden>
      <li id="a11y-refresh-page-message">{{ 'accessibility.refresh_page' | t }}</li>
      <li id="a11y-new-window-message">{{ 'accessibility.link_messages.new_window' | t }}</li>
    </ul>

    <script>
      window.shopUrl = '{{ request.origin }}';
      window.routes = {
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
        cart_update_url: '{{ routes.cart_update_url }}',
        cart_url: '{{ routes.cart_url }}',
        predictive_search_url: '{{ routes.predictive_search_url }}',
      };

      // Hardcoded for staging test - Return Shipping (Negatives) Variant ID
      window.globalReturnShippingVariantId = 48019139068159;

      window.cartStrings = {
        error: `{{ 'sections.cart.cart_error' | t }}`,
        quantityError: `{{ 'sections.cart.cart_quantity_error_html' | t: quantity: '[quantity]' }}`,
      };

      window.variantStrings = {
        addToCart: `{{ 'products.product.add_to_cart' | t }}`,
        soldOut: `{{ 'products.product.sold_out' | t }}`,
        unavailable: `{{ 'products.product.unavailable' | t }}`,
        unavailable_with_option: `{{ 'products.product.value_unavailable' | t: option_value: '[value]' }}`,
      };

      window.quickOrderListStrings = {
        itemsAdded: `{{ 'sections.quick_order_list.items_added.other' | t: quantity: '[quantity]' }}`,
        itemAdded: `{{ 'sections.quick_order_list.items_added.one' | t: quantity: '[quantity]' }}`,
        itemsRemoved: `{{ 'sections.quick_order_list.items_removed.other' | t: quantity: '[quantity]' }}`,
        itemRemoved: `{{ 'sections.quick_order_list.items_removed.one' | t: quantity: '[quantity]' }}`,
        viewCart: `{{- 'sections.quick_order_list.view_cart' | t -}}`,
        each: `{{- 'sections.quick_order_list.each' | t: money: '[money]' }}`,
        min_error: `{{- 'sections.quick_order_list.min_error' | t: min: '[min]' }}`,
        max_error: `{{- 'sections.quick_order_list.max_error' | t: max: '[max]' }}`,
        step_error: `{{- 'sections.quick_order_list.step_error' | t: step: '[step]' }}`,
      };

      window.accessibilityStrings = {
        imageAvailable: `{{ 'products.product.media.image_available' | t: index: '[index]' }}`,
        shareSuccess: `{{ 'general.share.success_message' | t }}`,
        pauseSlideshow: `{{ 'sections.slideshow.pause_slideshow' | t }}`,
        playSlideshow: `{{ 'sections.slideshow.play_slideshow' | t }}`,
        recipientFormExpanded: `{{ 'recipient.form.expanded' | t }}`,
        recipientFormCollapsed: `{{ 'recipient.form.collapsed' | t }}`,
        countrySelectorSearchCount: `{{ 'localization.country_results_count' | t: count: '[count]' }}`,
      };
    </script>

    <script src="{{ 'swiper-bundle.min.js' | asset_url }}" defer="defer"></script>
    {%- if settings.predictive_search_enabled -%}
      <script src="{{ 'predictive-search.js' | asset_url }}" defer="defer"></script>
    {%- endif -%}

    <script src="{{ 'cart-drawer.js' | asset_url }}" defer="defer"></script>
    {% render 'gw-custom' %}
  </body>
</html>
